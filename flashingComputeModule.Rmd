---
title: "Flashing Your SensorStation Compute Module"
author: "support@celltracktech.com"
date: "7/1/2020"
output:
  html_document:
    toc: yes
    number_sections: no
  pdf_document:
    toc: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Why flash my compute module? 

While CTT offers many over-the-air updates to your `CTT SensorStation` sometimes you just need a fresh start, or maybe you haven't been incrementally updating the source code and want to do so after a full stable release. You've found the right place to learn how!

# Flashing a compute module for a SensorStation

You can use your `CTT SensorStation` to burn a new operating system onto the compute module using a micro USB cable attached to your computer. Here is an article on raspbian's website with general instructions: [Flashing the Compute Module eMMC](https://www.raspberrypi.org/documentation/hardware/computemodule/cm-emmc-flashing.md). This page will summarize the steps needed to burn a New CTT SensorStation image to your compute module using the SensorStation hardware.

***

## SensorStation Image Downloads
**V1 Station Image - compatible with V2 hardware** [Download Station Image	(1.3 GB)](https://s3.amazonaws.com/media.celltracktech.com/sensor-station/d7522108-017e-11ea-86b6-784f43a7974d/sensor-station.2020-03-23.zip)

***

## Software Requirements
You will need drivers for your computer to recognize the module as a new drive, and software to burn new images to disk.

### Windows Drivers

* Drivers - Download and run the [Windows Installer](https://github.com/raspberrypi/usbboot/raw/master/win32/rpiboot_setup.exe)

### Linux / Mac

* Linux / MAC users will have to clone the rpiboot source code, compile and run the rpiboot.exe file that is generated. Detailed instructions [here](https://www.raspberrypi.org/documentation/hardware/computemodule/cm-emmc-flashing.md).

### All Users

* All users require software to burn an image such as [Raspberry Pi Imager](https://www.raspberrypi.org/downloads/) or [balenaEtcher](https://www.balena.io/etcher/)


## Steps to Burn a New Image

1. Ensure the SensorStation has no power
2. Move the USB Boot Jumper Pin to the enabled position (to the left 1 pin).

![](/Users/davidlapuma/github/ctt_documentation/images/boot_enabled2.png){#id .class width=25%}

3. Run rpiboot.exe which was installed from the previous step. From windows, you can search `rpiboot` to find it.

![](/Users/davidlapuma/github/ctt_documentation/images/search_rpiboot.png){#id .class width=50%}

4. Running rpiboot will pop up a console showing a wait message waiting for the module to be detected: 

![](/Users/davidlapuma/github/ctt_documentation/images/run-rpiboot.png){#id .class width=50%}

5. Plug the micro-USB cable into the SensorStation, and into your computer.
6. Power on the SensorStation.
7. The dialog box from rpiboot should disappear after displaying some messages and the module will be available as a new hard drive. (**Do not auto-fix as windows may suggest!**)
8. Run Raspberry Pi Imager

![](/Users/davidlapuma/github/ctt_documentation/images/rpiimager.PNG){#id .class width=50%}

* Select the SensorStation image file on the left.
* Select the Compute Module for the target (middle). `example: RPi-MSGD- 0001 - 7.8 GB`
* Flash the image by clicking on the `WRITE` button.
